<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %} - Medicine OCR</title>
    
    <style>
        :root {
            /* Default (logged out / fallback) */
            --primary-color: #16a085;  /* pharmacy green-teal */
            --secondary-color: #2c3e50; /* professional navy */
            --accent-color: #0fb9b1;    /* calming teal */
            --light-bg: #edf7f5;        /* pale mint */
            --dark-text: #333;
            --light-text: #fff;
            --card-bg: #ffffff;
            --border-color: #cdeee6;
            --nav-start: #2c3e50; /* navbar gradient start */
            --nav-end: #16a085;   /* navbar gradient end */
            --page-gradient: linear-gradient(135deg, #edf7f5 0%, #e8f1f6 100%);
            --bot-message-bg: #eef8f5;
            --user-message-bg: #eaf2f6;
        }

        /* Buyer (user) medical theme: calming teal + blue accents */
        .role-user {
            --primary-color: #0e918c;  /* darker teal */
            --accent-color: #1f7cb5;   /* medical blue */
            --border-color: #cfeaf0;   /* pale blue border */
            --nav-start: #0b665f;      /* darker for contrast */
            --nav-end: #0e7490;        /* darker for contrast */
            --page-gradient: linear-gradient(135deg, #f4fbfc 0%, #eaf7ff 100%);
            --bot-message-bg: #edf7fb;
            --user-message-bg: #e6f4ff;
        }

        /* Seller (owner) medical theme: professional navy + pharmacy green */
        .role-owner {
            --primary-color: #128277;  /* green-teal */
            --accent-color: #1f2d3a;   /* darker navy */
            --border-color: #cdeee6;   /* pale mint border */
            --nav-start: #1f2d3a;      /* darker start */
            --nav-end: #0f766e;        /* darker end */
            --page-gradient: linear-gradient(135deg, #edf7f5 0%, #e8f1f6 100%);
            --bot-message-bg: #eef8f5;
            --user-message-bg: #eaf2f6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--page-gradient);
            color: #333;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        .navbar {
            background: var(--nav-start); /* solid for better contrast */
            background-color: #0b3a42 !important; /* force dark */
            background-image: none !important;
            position: sticky;
            top: 0;
            z-index: 1050;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
            border-radius: 0 !important;
        }
        .navbar .container { background: transparent !important; box-shadow: none !important; border-radius: 0 !important; }
        .navbar .navbar-brand, .navbar .nav-link { color: #ffffff !important; }
        .navbar-brand {
            color: white !important;
            font-weight: 700;
            font-size: 1.6em;
            letter-spacing: .3px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.35); /* improve readability on light areas */
        }
        .navbar-nav { gap: .25rem; }
        .nav-link {
            color: rgba(255, 255, 255, 0.95) !important;
            font-weight: 500;
            padding: .5rem .9rem;
            border-radius: 9999px;
            position: relative;
            transition: all .2s ease;
            text-shadow: 0 1px 2px rgba(0,0,0,0.25);
        }
        .nav-link::after {
            content: "";
            position: absolute;
            left: .8rem;
            right: .8rem;
            bottom: .35rem;
            height: 2px;
            background: rgba(255,255,255,0.9);
            border-radius: 2px;
            transform: scaleX(0);
            transform-origin: left center;
            transition: transform .2s ease;
        }
        .nav-link:hover {
            color: #fff !important;
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-1px);
        }
        .nav-link:hover::after { transform: scaleX(1); }
        .content-wrapper {
            padding: 20px;
            min-height: calc(100vh - 56px);
        }
        {% block additional_styles %}{% endblock %}
    </style>
    {% block stylesheets %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    {% endblock %}
    {% block head %}{% endblock %}
</head>
<body class="{% if session.get('user_type') == 'owner' %}role-owner{% elif session.get('user_type') == 'user' %}role-user{% endif %}">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">Medicine OCR</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    {% if session.get('user_type') == 'owner' %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('index') }}">Owner Portal</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('medicine_database') }}">Medicine Database</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('add_medicine') }}">Add Medicine</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('view_enquiries') }}">User Enquiries</a>
                        </li>
                    {% elif session.get('user_type') == 'user' %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('index') }}">User Portal</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('health_advice_page') }}">Advice</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('medicine_info_page') }}">Medicine Info</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('availability_check_page') }}">Availability</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('upload_prescription_page') }}">Upload Rx</a>
                        </li>
                    {% endif %}
                    {% if session.get('user_type') %}
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <div class="content-wrapper">
        {% block content %}{% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html> 